(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{124:function(e,t,n){},125:function(e,t,n){},132:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(40),s=n.n(r),l=(n(124),n(3)),i=n(23),o=n(9),j=n(114),b=n(152),d=n(154),u=n(150),m=n(112),p=(n(125),n(1));var h=function(){return Object(p.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(p.jsx)("h5",{children:"Created by: "}),Object(p.jsxs)("ul",{children:[Object(p.jsx)(i.b,{to:"https://github.com/JackWarrick",children:"Jack Warrick"}),Object(p.jsx)(i.b,{href:"https://github.com/CarlBergquist",children:"Carl Bergquist"}),Object(p.jsx)(i.b,{href:"https://github.com/cooper2016",children:"Harrison Cooper"})]})]})};function O(){return Object(p.jsxs)("div",{className:"m-2",children:[Object(p.jsx)("h1",{className:"display-1 d-flex justify-content-center",children:"Fantasy Football Matchup Analyzer"}),Object(p.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(p.jsx)(i.b,{to:"/login",className:"m-2",children:Object(p.jsx)("button",{className:"btn btn-primary",children:"Login"})}),Object(p.jsx)(i.b,{to:"/signup",className:"m-2",children:Object(p.jsx)("button",{className:"btn btn-primary",children:"Sign Up"})})]}),Object(p.jsx)("img",{src:"https://static.www.nfl.com/image/private/t_q-best/league/pyzxubxdovaubclvbvf0",alt:"NFL Logo",className:"img-fluid max-width: 40% height: auto"}),Object(p.jsx)(h,{})]})}var x,f,g,v=n(13),y=n(18),N=n(6),w=n(30),_=n(29),k=n(101),S=new(function(){function e(){Object(w.a)(this,e)}return Object(_.a)(e,[{key:"getProfile",value:function(){return Object(k.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){return Object(k.a)(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e)}},{key:"logout",value:function(){localStorage.removeItem("id_token")}}]),e}()),C=n(156),I=n(148),$=n(46),P=n(153),M=(Object(P.a)(x||(x=Object($.a)(["\n  query player {\n    player {\n      _id\n      player_id\n      full_name\n      position\n      team\n      imageUrl\n    }\n  }\n"]))),Object(P.a)(f||(f=Object($.a)(["\nquery Player($fullName: String!) {\n  player(full_name: $fullName) {\n    _id\n  }\n}\n"])))),U=Object(P.a)(g||(g=Object($.a)(["\n  query matchups {\n    matchups {\n      player1 {\n        full_name\n        player_id\n        position\n        team\n        _id\n        imageUrl\n      }\n      _id\n      player2 {\n        full_name\n        _id\n        player_id\n        position\n        team\n        imageUrl\n      }\n      player1_votes\n      player2_votes\n    }\n  }\n"]))),T=n(111),E=n(105),V=n(83),L=n(82),q=n(73);var A,B,F,D,z,J=function(){var e=Object(o.l)();return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(V.a,{bg:"light",expand:"lg",className:"mb-3 px-4",children:Object(p.jsxs)(T.a,{fluid:!0,children:[Object(p.jsx)(V.a.Brand,{onClick:function(){e("/main")},children:"Matchup Analyzer"}),Object(p.jsx)(V.a.Toggle,{"aria-controls":"offcanvasNavbar-expand-lg"}),Object(p.jsxs)(V.a.Offcanvas,{id:"offcanvasNavbar-expand-lg","aria-labelledby":"offcanvasNavbarLabel-expand-lg",placement:"end",children:[Object(p.jsx)(q.a.Header,{closeButton:!0,children:Object(p.jsx)(q.a.Title,{id:"offcanvasNavbarLabel-expand-lg",children:"Account"})}),Object(p.jsx)(q.a.Body,{children:Object(p.jsxs)(E.a,{className:"justify-content-end flex-grow-1 pe-3",children:[Object(p.jsx)(E.a.Link,{onClick:function(){e("/matchup")},children:"Create Matchup"}),Object(p.jsxs)(L.a,{title:"Account",id:"offcanvasNavbarDropdown-expand-sm",children:[Object(p.jsx)(L.a.Item,{onClick:function(){e("/account")},children:"My Matchups"}),Object(p.jsx)(L.a.Divider,{}),Object(p.jsx)(L.a.Item,{onClick:function(){S.logout(),e("/")},children:"Logout"})]})]})})]})]})},"lg")})},Q=Object(P.a)(A||(A=Object($.a)(["\n  mutation createMatchup($player1: String!, $player2: String!) {\n    createMatchup(player1: $player1, player2: $player2) {\n      _id\n      player1 {\n        full_name\n      }\n      player2 {\n        full_name\n      }\n    }\n  }\n"]))),G=Object(P.a)(B||(B=Object($.a)(["\n  mutation createVote($_id: String, $playNum: Int!) {\n    createVote(_id: $_id, playNum: $playNum) {\n      _id\n      player1_votes\n      player2_votes\n    }\n  }\n"]))),H=Object(P.a)(F||(F=Object($.a)(["\n  mutation addProfile($username: String!, $password: String!) {\n    addProfile(username: $username, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),R=Object(P.a)(D||(D=Object($.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),W=Object(P.a)(z||(z=Object($.a)(["\n  mutation removeMatchup($_id: String) {\n    removeMatchup(_id: $_id) {\n      _id\n    }\n  }\n"]))),Y=function(){var e=Object(o.l)(),t=Object(o.n)().id,n=Object(C.a)(U,{variables:{_id:t}}).data;console.log(n);var a=(null===n||void 0===n?void 0:n.matchups)||[];console.log(a);var c=Object(I.a)(G,{refetchQueries:U}),r=Object(N.a)(c,1)[0],s=function(){var e=Object(y.a)(Object(v.a)().mark((function e(t,n){return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),console.log(t),e.prev=2,e.next=5,r({variables:{_id:t,playNum:n}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}();return S.loggedIn()?Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(J,{}),Object(p.jsx)("h1",{className:"display-2",children:"All Matchups"}),a.length>0?a.map((function(e){return Object(p.jsxs)("div",{className:"card bg-gray w-auto d-flex flex-row card-text-center m-2 text-center justify-content-center",children:[Object(p.jsxs)("div",{className:"d-flex flex-column m-2",children:[Object(p.jsx)("img",{src:e.player1.imageUrl,alt:e.player1.full_name}),Object(p.jsx)("h2",{className:"",children:e.player1.full_name}),Object(p.jsxs)("h2",{children:["Team: ",e.player1.team]}),Object(p.jsxs)("h2",{children:["Position: ",e.player1.position]}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return s(e._id,1)},children:"Vote"}),Object(p.jsxs)("h3",{children:["Number of Votes: ",e.player1_votes]})]}),Object(p.jsx)("div",{className:"d-flex align-items-center m-4",children:Object(p.jsx)("h1",{children:"VS"})}),Object(p.jsxs)("div",{className:"d-flex flex-column m-2",children:[Object(p.jsx)("img",{src:e.player2.imageUrl,alt:e.player2.full_name}),Object(p.jsx)("h2",{children:e.player2.full_name}),Object(p.jsxs)("h2",{children:["Team: ",e.player2.team]}),Object(p.jsxs)("h2",{children:["Position: ",e.player2.position]}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return s(e._id,2)},children:"Vote"}),Object(p.jsxs)("h3",{children:["Number of Votes: ",e.player2_votes]})]})]},e._id)})):Object(p.jsx)("h1",{children:"No Matchups Found"})]}):(console.log(S.loggedIn),e("/"))},K=function(){var e=Object(o.l)(),t=Object(C.a)(U,{fetchPolicy:"no-cache"}).data,n=Object(I.a)(W,{refetchQueries:U}),a=Object(N.a)(n,2),c=a[0],r=a[1].error,s=(null===t||void 0===t?void 0:t.matchups)||[],l=function(){var e=Object(y.a)(Object(v.a)().mark((function e(t){return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.loggedIn()?S.getToken():null){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,c({variables:{_id:t}});case 6:if(e.sent){e.next=9;break}throw new Error("something went wrong!");case 9:c(t),window.location.reload(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(r);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return S.loggedIn()?Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(J,{}),Object(p.jsx)("h1",{className:"display-2",children:"My Matchups"}),s.length>0?s.map((function(e){return Object(p.jsxs)("div",{className:"card bg-gray w-auto d-flex flex-row card-text-center m-2 text-center justify-content-center",children:[Object(p.jsxs)("div",{className:"d-flex flex-column m-2",children:[Object(p.jsx)("img",{src:e.player1.imageUrl,alt:e.player1.full_name}),Object(p.jsx)("h2",{children:e.player1.full_name}),Object(p.jsxs)("h2",{children:["Team: ",e.player1.team]}),Object(p.jsxs)("h2",{children:["Position: ",e.player1.position]}),Object(p.jsxs)("h3",{children:["Number of Votes: ",e.player1_votes]})]}),Object(p.jsx)("div",{className:"d-flex align-items-center m-4",children:Object(p.jsx)("h1",{children:"VS"})}),Object(p.jsxs)("div",{className:"d-flex flex-column m-2",children:[Object(p.jsx)("img",{src:e.player2.imageUrl,alt:e.player2.full_name}),Object(p.jsx)("h2",{children:e.player2.full_name}),Object(p.jsxs)("h2",{children:["Team: ",e.player2.team]}),Object(p.jsxs)("h2",{children:["Position: ",e.player2.position]}),Object(p.jsxs)("h3",{children:["Number of Votes: ",e.player2_votes]})]}),Object(p.jsx)("button",{type:"button",className:"btn btn-danger m-2",onClick:function(){return l(e._id)},children:"Delete"})]},e._id)})):Object(p.jsx)("h1",{children:"No Matchups Found"})]}):(console.log(S.loggedIn),e("/"))},X=n(11),Z=n(151);function ee(){var e=Object(a.useState)({username:"",password:""}),t=Object(N.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(N.a)(r,1)[0],i=Object(o.l)(),j=Object(I.a)(R),b=Object(N.a)(j,1)[0],d=function(e){var t=e.target,a=t.name,r=t.value;c(Object(l.a)(Object(l.a)({},n),{},Object(X.a)({},a,r)))},u=function(){var e=Object(y.a)(Object(v.a)().mark((function e(t){var a,r;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b({variables:Object(l.a)({},n)});case 4:a=e.sent,r=a.data,S.login(r.login.token),i("/main"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:c({username:"",password:""});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"App",children:Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row d-flex justify-content-center",children:[Object(p.jsx)("div",{className:"bg-secondary text-light",children:Object(p.jsx)("h1",{className:"display-1",children:"LOG IN"})}),Object(p.jsx)("div",{className:"col-md-4 m-2",children:Object(p.jsxs)(Z.a,{noValidate:!0,validated:s,onSubmit:u,children:[Object(p.jsxs)(Z.a.Group,{children:[Object(p.jsx)(Z.a.Label,{children:"Username:"}),Object(p.jsx)(Z.a.Control,{type:"text",name:"username",placeholder:"Enter Username",onChange:d,value:n.username,required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Password:"}),Object(p.jsx)("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",value:n.password,onChange:d,required:!0})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary m-2",children:"Login"})]})})]})})})})}function te(){var e=Object(o.l)(),t=Object(a.useState)({player1:"",player2:""}),n=Object(N.a)(t,2),c=n[0],r=n[1],s=Object(C.a)(M,{variables:{fullName:c.player1}}),i=Object(C.a)(M,{variables:{fullName:c.player2}}),j=Object(I.a)(Q,{refetchQueries:U}),b=Object(N.a)(j,1)[0],d=function(e){var t=e.target,n=t.name,a=t.value;r(Object(l.a)(Object(l.a)({},c),{},Object(X.a)({},n,a)))},u=function(){var e=Object(y.a)(Object(v.a)().mark((function e(t){var n,a;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(c.player1),c.player1=s.data.player._id,c.player2=i.data.player._id,e.prev=4,e.next=7,b({variables:Object(l.a)({},c),refetchQueries:U});case 7:n=e.sent,a=n.data,console.log(a),window.location.assign("/main"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0);case 16:r({player1:"",player2:""});case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return S.loggedIn()?Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(J,{}),Object(p.jsxs)("div",{className:"card w-200 d-flex align-items-center",children:[Object(p.jsx)("div",{className:"text-center m-4 border border-secondary bg-secondary text-light",children:Object(p.jsx)("h1",{className:"m-1 display-2",children:"CREATE YOUR MATCHUP"})}),Object(p.jsxs)("form",{onSubmit:u,children:[Object(p.jsxs)("div",{className:"text-center m-4",children:[Object(p.jsx)("h1",{children:"Enter Player 1 "}),Object(p.jsx)("input",{className:"input-group input-group-lg",name:"player1",type:"text",placeholder:"Enter player 1 name",value:c.player1,onChange:d})]}),Object(p.jsx)("div",{className:"text-center m-4",children:Object(p.jsx)("h1",{className:"",children:"VS "})}),Object(p.jsxs)("div",{className:" text-center m-4",children:[Object(p.jsx)("h1",{children:"Enter Player 2"}),Object(p.jsx)("input",{className:"input-group input-group-lg",name:"player2",type:"text",placeholder:"Enter player 2 name",value:c.player2,onChange:d})]}),Object(p.jsx)("div",{className:"text-center m-4",children:Object(p.jsx)("button",{className:"btn btn-success",children:"SUBMIT"})})]}),Object(p.jsx)("div",{})]})]}):(console.log(S.loggedIn),e("/"))}var ne=function(){var e=Object(a.useState)({username:"",password:""}),t=Object(N.a)(e,2),n=t[0],c=t[1],r=Object(o.l)(),s=Object(I.a)(H),i=Object(N.a)(s,1)[0],j=function(e){var t=e.target,a=t.name,r=t.value;c(Object(l.a)(Object(l.a)({},n),{},Object(X.a)({},a,r)))},b=function(){var e=Object(y.a)(Object(v.a)().mark((function e(t){var a,s;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(n),e.prev=2,e.next=5,i({variables:Object(l.a)({},n)});case 5:a=e.sent,s=a.data,S.login(s.addProfile.token),r("/main"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:c({username:"",password:""});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row d-flex justify-content-center",children:[Object(p.jsx)("div",{className:"bg-secondary text-light",children:Object(p.jsx)("h1",{className:"display-1",children:"SIGN UP"})}),Object(p.jsx)("div",{className:"col-md-4 m-2",children:Object(p.jsxs)("form",{onSubmit:b,children:[Object(p.jsxs)("div",{className:"form-input",children:[Object(p.jsx)("label",{children:"Username"}),Object(p.jsx)("input",{className:"form-control",name:"username",type:"text",placeholder:"Enter Username",value:n.username,onChange:j})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Password"}),Object(p.jsx)("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",value:n.password,onChange:j})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary m-2",children:"Sign Up"})]})})]})})})},ae=(n(132),Object(j.a)({uri:"/graphql"})),ce=Object(m.a)((function(e,t){var n=t.headers,a=localStorage.getItem("id_token");return{headers:Object(l.a)(Object(l.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),re=new b.a({link:ce.concat(ae),cache:new d.a});var se=function(){return Object(p.jsx)(u.a,{client:re,children:Object(p.jsx)(i.a,{children:Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{path:"/",element:Object(p.jsx)(O,{})}),Object(p.jsx)(o.a,{path:"/login",element:Object(p.jsx)(ee,{})}),Object(p.jsx)(o.a,{path:"/signup",element:Object(p.jsx)(ne,{})}),Object(p.jsx)(o.a,{path:"/main",element:Object(p.jsx)(Y,{})}),Object(p.jsx)(o.a,{path:"/account",element:Object(p.jsx)(K,{})}),Object(p.jsx)(o.a,{path:"/matchup",element:Object(p.jsx)(te,{})})]})})})})};n(133);s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(se,{})}),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.c7dc79a4.chunk.js.map